<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>telephone game</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <script src="requirements.js"></script>
    <script src="connect.js" defer></script>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
        rel="stylesheet">
</head>

<body>
    <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <div class="main">
        <div id="auth" class="window">
            <h1>Let's setup!</h1>
            <p>What will you do?</p>
            <button class="btn" id="receiverButton">Make QR</button>
            <button class="btn" id="senderButton">Scan QR</button>
        </div>
        <div id="scanUI" class="window">
            <h2>Scan</h2>
            <p>Point at the QR Code.</p>
            <div id="qrScanner"></div>
            <div class="inputsection">
                <input placeholder="Receiver's ID (if QR fails)" id="peerId">
                <button id="connectButton">Connect</button>
            </div>
        </div>
        <div id="qrUI" class="window">
            <h2>Receiver</h2>
            <p>Share this ID with the sender:</p>
            <kbd id="receiverId"></kbd>
            <p>Or Scan this QR</p>
            <div id="qrCode"><span class="loader"></span></div>
        </div>
        <div id="whowill" class="window">
            <h1>Who is drawing?</h1>
            <button onclick="imdrawing()">Me!</button>
        </div>
        <div id="painting" class="window">
            <div class="progressBar">
                <div class="ActProg" id="drawprogressindraw"></div>
            </div>
            <h1>Draw <span id="drawWhat">a table</span></h1>
            <canvas id="drawcanvas"></canvas>
            <div class="colorpicker">
                <div class="color" style="background-color: rgb(255, 137, 137);"></div>
                <div class="color" style="background-color: rgb(255, 239, 137);"></div>
                <div class="color" style="background-color: rgb(163, 255, 137);"></div>
                <div class="color" style="background-color: rgb(137, 186, 255);"></div>
                <div class="color" style="background-color: rgb(174, 137, 255);"></div>
                <div class="color" style="background-color: rgb(43, 43, 43);"></div>
                <div class="color" style="background-color: rgb(255, 255, 255);"></div>
            </div>
        </div>
        <div id="review" class="window">
            <div class="progressBar">
                <div class="ActProg"></div>
            </div>
            <h1 id="whatsit">What is it?</h1>
            <img id="guesscanvas" src="https://picsum.photos/300/200">
            <div class="inputsection">
                <input placeholder="It is..." id="itisinput">
                <button onclick="document.getElementById('whatsit').value = 'Are you really sure';">Guess</button>
            </div>
        </div>

        <div id="waitdr" class="window">
            <div class="progressBar">
                <div class="ActProg"></div>
            </div>
            <div class="loader"></div>
            <h1>They're drawing...</h1>
            <small>Get ready to guess</small>
        </div>

        <div id="waitgu" class="window">
            <div class="progressBar">
                <div class="ActProg"></div>
            </div>
            <div class="loader"></div>
            <h1>They're wondering what you just drew...</h1>
            <small>How did your drawing go?</small>
        </div>
        <div id="ending" class="window">
            <div class="msg" role="sys">
                    Draw <span id="systemprompt">plane</span>
            </div>
            <div class="msg" role="p1">
                    <img id="endreelimg"
                        src="https://i0.wp.com/mossandfog.com/wp-content/uploads/2023/12/dbf18af0f8f7751016d48676a311ba13ebcff184-1.jpg">
            </div>
            <div class="msg" role="p2">
                    Its a <span id="whattheyguessed">watermelon</span>
            </div>
            <button style="margin-top: 10px;" onclick="goAgain()">Let's go again!</button>
        </div>
    </div>
    <script src="script.js" async></script>
</body>

</html>